# appbooster-sdk-ios

Mobile framework for Appbooster platform.

## Installation

CocoaPods:

```
pod 'AppboosterSDK'
```

Swift Package Manager:

```
// TODO
```

Manual:

```
Copy folder <AppboosterSDK> to your app
```

## Usage

```
import AppboosterSDK
```

### Initialization:

```
let ab = AppboosterSDK(sdkToken: "<YOUR_SDK_TOKEN>",
                       appId: "<YOUR_APP_ID>",
                       deviceId: "<YOUR_DEVICE_ID>", // optional, UUID generated by default
                       defaults: [
                         "<TEST_1_KEY>": "<TEST_1_DEFAULT_VALUE>",
                         "<TEST_2_KEY>": "<TEST_2_DEFAULT_VALUE>"
                       ]
)
```

### How to fetch known tests values that associated with your device?

```
ab.fetch(timeoutInterval: 3.0, // optional
         completion: { error in })
```

### How to get the value for a specific test?

```
let value: String? = ab["<TEST_KEY>"]
```

or

```
let value: String? = ab.value("<TEST_KEY>")
```

In case of problems with no internet connection or another, the default values specified during initialization are used

### How to get user properties for analytics?

```
let userProperties = ab.userProperties
```

You can disable the sending of events to analytics if debug mode is turn on.

```
if AppboosterDebugMode.isOn {
  // hold sending events
}
```

### How to debug?

```
ab.showDebug = true // false by default, to print all debugging info in the console
ab.log = { text in } // to define your own log handler
let duration = ab.lastOperationDuration // the duration of the last operation in seconds
```

Also in debug mode you can see all actual tests and check how the user will see each option of the test. To call the debug menu you need to turn it on in your personal cabinet and make shake motion on your iPhone or simulator.
If you are already using shake motion in your app for other purposes, you can turn it off and configure any other gesture. 

```
AppboosterDebugMode.usingShake = false // true by default
```

And display the debug menu on your condition

```
AppboosterDebugMode.showMenu(from: <yourViewController>) // by default is displayed from any view controller 
```

==================================================

You can see the example of usage in the attached project.
